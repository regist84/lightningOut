<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Lightning Out</title>
</head>

<body onload="setToken()">

<div id= 'tokenDiv' style='display: none;'> 
</div>
<div id='containerForm' style='width: 40%;border: 1px solid black;margin: 0 auto;margin-bottom: 10px;margin-top: 50px'>
<div id='customEditFormLocator'></div>	
</div>
	
<div id='containerButton' style='width: 40%;border: 1px solid black;margin: 0 auto;'>
<div id='buttonAddDocuments'></div>
</div>
	
	
<script src="https://agenoves-dev-ed.lightning.force.com/lightning/lightning.out.js"></script>

<script>
 var token = document.getElementById("tokenDiv").textContent;
	$Lightning.use("c:lightningOutApp",    // name of the Lightning app
	        function() {                  // Callback once framework and app loaded
	            $Lightning.createComponent(
	                "c:customEditForm", // top-level component of your app
	                { },                  // attributes to set on the component when created
	                "customEditFormLocator",   // the DOM location to insert the component
	                function(cmp) {
	                    // callback when component is created and active on the page
	                }
	            );
		$Lightning.createComponent(
			"c:buttonAddDocuments", // top-level component of your app
			{ },                  // attributes to set on the component when created
			"buttonAddDocuments",   // the DOM location to insert the component
			function(cmp) {
			    // callback when component is created and active on the page
			}
		);
	    },
            "https://agenoves-dev-ed.lightning.force.com?origin=*", // endpoint of org as lightningEndPointURI
token
           // document.getElementById("tokenDiv").textContent // access token as authToken 
	//"00D0Y000000otHV!ARIAQAmO2Pgz.scgiCjwGoj137TsEhvGu8NiLo7NM3DVrAiRW7IxJs5f8.5fWYiD3nwW8.9vAUeHeYqx6R720uT.BQN3B_W6"
    );
	
	 

function setToken (){
	var tokenString = window.location.href;
	var prmstr = window.location.search;
	prmstr = prmstr.substr(1, prmstr.length);
	var prmarr = prmstr.split("&");
	var token = 'noToken';
	    for ( var i = 0; i < prmarr.length; i++) {
	        var tmparr = prmarr[i].split("=");
	        if(tmparr[0] == 'access_token'){
	        	token = tmparr[1];
	        	break;
	        }
	    }
	console.log(token)
	document.getElementById("tokenDiv").innerHTML = token;
}

</script>
</body>
</html>
